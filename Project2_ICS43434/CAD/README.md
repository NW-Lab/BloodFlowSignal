# ICS-43434マイク用血流計測ケース - 3D CADファイル

## 概要

このディレクトリには、ICS-43434 MEMSマイクを使用した血流計測用ケースの3D CADファイルが含まれています。ケースは皮膚に直接当てて使用する設計で、環境音を遮断しながら血流音を効率的に捉えることができます。

## ファイル一覧

### ケース本体

| ファイル名 | 形式 | 用途 |
| :--- | :--- | :--- |
| `microphone_case.stl` | STL | 3Dプリント用（ケース本体） |
| `microphone_case.step` | STEP | Fusion 360で編集可能（ケース本体） |

### 蓋（オプション）

| ファイル名 | 形式 | 用途 |
| :--- | :--- | :--- |
| `microphone_lid.stl` | STL | 3Dプリント用（マイク固定蓋） |
| `microphone_lid.step` | STEP | Fusion 360で編集可能（マイク固定蓋） |

## 設計仕様

### ケース本体の寸法

*   **ベース部直径**: 30mm（皮膚接触面）
*   **ベース部高さ**: 10mm
*   **持ち手部直径**: 20mm
*   **持ち手部高さ**: 40mm
*   **全体高さ**: 50mm
*   **壁厚**: 2mm

### マイク収納部

*   **基板収納スペース**: 17mm × 13.5mm × 2.5mm
*   **音孔開口部**: 直径6mm（底面中央）
*   **ケーブル切り欠き**: 幅6mm × 高さ4mm

## 使用方法

### 1. 3Dプリント

**推奨設定:**
*   材質: PLA または ABS
*   積層ピッチ: 0.2mm
*   インフィル: 20-30%
*   サポート材: 必要に応じて使用
*   プリント方向: 底面を下にして配置

**注意事項:**
*   音孔部分は貫通している必要があるため、プリント後に確認してください
*   接触面（底面）は平滑に仕上げることで、皮膚への密着性が向上します

### 2. マイクの取り付け

1. ICS-43434ブレイクアウトボードをケース上部の収納スペースに配置
2. マイクの音孔（底面ポート）がケース底面の開口部に向くように配置
3. 蓋を使用してマイクを固定（または接着剤で固定）
4. ケーブルを側面の切り欠きから引き出す

### 3. 使用時の注意

*   マイクの音孔が皮膚に直接当たるように配置してください
*   適度な圧力で皮膚に押し当てます（強く押しすぎないこと）
*   測定中はケースを動かさないように保持してください

## Fusion 360での編集

STEP形式のファイル（`microphone_case.step`）をAutodesk Fusion 360で開くことで、寸法や形状を自由に編集できます。

### 編集可能なパラメータ

*   ベース部・持ち手部の直径と高さ
*   マイク収納部のサイズ
*   音孔の直径
*   ケーブル切り欠きの位置とサイズ
*   壁厚

### 編集後の再生成

Pythonスクリプト（`generate_microphone_case.py`）を使用すれば、パラメータを変更して新しいモデルを生成できます。スクリプト内の定数を編集してから実行してください。

```bash
# 仮想環境をアクティベート
source venv/bin/activate

# スクリプトを実行
python generate_microphone_case.py
```

## 設計の背景

### 直接接触型を採用した理由

血流音は皮膚表面の微細な振動として現れます。この振動を効率的に捉えるため、マイクを皮膚に直接密着させる設計を採用しました。空気層を介さないことで、以下のメリットがあります：

*   **振動の直接伝達**: 機械的振動を効率的にマイクに伝える
*   **ノイズの低減**: 周囲の環境音（話し声、風、機械音など）の混入を防ぐ
*   **測定の安定性**: 空気層による音響特性の変動を排除

### 形状の工夫

*   **円筒形のベース**: 皮膚への均等な接触を実現
*   **持ち手部**: 安定した保持と適度な圧力の調整が可能
*   **遮音構造**: 側面からの環境音の侵入を最小限に抑制

## ライセンス

このCADファイルはオープンソースとして公開されています。自由に改変・再配布が可能です。

## 参考資料

*   [ICS-43434 データシート](https://invensense.tdk.com/wp-content/uploads/2016/02/DS-000069-ICS-43434-v1.2.pdf)
*   [Adafruit ICS-43434 製品ページ](https://www.adafruit.com/product/6049)
*   [CadQuery ドキュメント](https://cadquery.readthedocs.io/)
